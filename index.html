<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>ASTROãƒ»POP | 2026 ç´«å¾®æ–—æ•¸ AI æ”»ç•¥</title>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2895749032536610"
     crossorigin="anonymous"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@500;700&family=Noto+Sans+KR:wght@500;700&family=Noto+Sans+TC:wght@400;700;900&family=Fredoka:wght@500;600&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg: #050505; --primary: #8b5cf6; --accent: #06b6d4; --gold: #fbbf24;
            --mbti: #10b981; --love: #f43f5e; --card-glass: rgba(30, 41, 59, 0.7);
            --border: rgba(255, 255, 255, 0.1);
        }
        
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body { 
            margin: 0; 
            font-family: 'Fredoka', 'Noto Sans TC', 'Noto Sans JP', 'Noto Sans KR', sans-serif; 
            background: var(--bg); 
            color: white; 
            min-height: 100vh; 
            background-image: radial-gradient(circle at 50% 0%, #1e1b4b 0%, #020617 80%); 
            overflow-x: hidden; 
        }
        
        /* å°èˆªæ¬„ */
        nav { 
            padding: 15px 20px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 10px; 
            background: rgba(2, 6, 23, 0.95); 
            backdrop-filter: blur(10px); 
            position: sticky; 
            top: 0; 
            z-index: 50; 
            border-bottom: 1px solid var(--border); 
        }
        
        .logo { 
            font-size: 1.5rem; 
            font-weight: 900; 
            letter-spacing: 1px; 
            background: linear-gradient(90deg, #fff, #a78bfa); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
        }
        
        .lang-scroll { 
            display: flex; 
            gap: 8px; 
            justify-content: center; 
            flex-wrap: wrap;
            width: 100%; 
        }
        
        .lang-btn { 
            background: transparent; 
            border: 1px solid var(--border); 
            color: #94a3b8; 
            padding: 5px 12px; 
            border-radius: 20px; 
            font-size: 0.8rem; 
            cursor: pointer; 
            transition: 0.3s; 
        }
        
        .lang-btn.active { 
            border-color: var(--primary); 
            background: rgba(139, 92, 246, 0.2); 
            color: white; 
        }

        /* ä¸»è¦å®¹å™¨ */
        .container { 
            max-width: 1100px; 
            margin: 0 auto; 
            padding: 20px; 
        }
        
        .hero { 
            text-align: center; 
            padding: 20px 0 30px; 
        }
        
        .hero h1 { 
            font-size: clamp(1.8rem, 5vw, 2.5rem); 
            margin: 0 0 15px 0; 
            text-shadow: 0 0 30px rgba(139,92,246,0.6); 
            line-height: 1.2; 
        }
        
        .hero p { 
            color: #94a3b8; 
            font-size: clamp(0.9rem, 3vw, 1.1rem); 
            max-width: 600px; 
            margin: 0 auto; 
            line-height: 1.6; 
        }

        /* ä¾¿ç•¶ç¶²æ ¼ - é¦–é  (æ‰‹æ©Ÿå„ªå…ˆè¨­è¨ˆ) */
        .bento-grid { 
            display: grid; 
            grid-template-columns: 1fr; 
            gap: 15px; 
            margin-bottom: 40px; 
        }
        
        /* å¹³æ¿ */
        @media (min-width: 768px) { 
            .bento-grid { 
                grid-template-columns: repeat(2, 1fr); 
                grid-template-rows: repeat(2, 180px); 
                gap: 20px;
            } 
            .item-large { 
                grid-column: span 2; 
                grid-row: span 2; 
            } 
        }
        
        /* æ¡Œé¢ */
        @media (min-width: 1024px) { 
            .bento-grid { 
                grid-template-columns: repeat(4, 1fr); 
                grid-template-rows: repeat(2, 180px); 
                gap: 20px;
            } 
            .item-large { 
                grid-column: span 2; 
                grid-row: span 2; 
            } 
        }
        
        .bento-card { 
            background: linear-gradient(135deg, var(--card-glass), rgba(139, 92, 246, 0.1)); 
            border: 2px solid var(--border); 
            border-radius: 20px; 
            padding: 20px; 
            cursor: pointer; 
            transition: all 0.3s ease; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            text-align: center; 
            position: relative; 
            overflow: hidden; 
            min-height: 160px; 
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); 
        }
        
        .bento-card:hover { 
            transform: translateY(-5px); 
            border-color: var(--accent); 
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.2)); 
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5); 
        }
        
        .c-icon { 
            font-size: clamp(2rem, 8vw, 2.5rem); 
            margin-bottom: 10px; 
        }
        
        .c-title { 
            font-weight: bold; 
            font-size: clamp(1rem, 4vw, 1.1rem); 
            color: #fff; 
            margin-bottom: 5px; 
        }
        
        .c-desc { 
            font-size: clamp(0.8rem, 3vw, 0.85rem); 
            color: #94a3b8; 
            line-height: 1.4; 
        }

        /* CTAæŒ‰éˆ•å’Œå½ˆçª— */
        .cta-wrapper { 
            position: fixed; 
            bottom: 20px; 
            left: 50%; 
            transform: translateX(-50%); 
            width: 90%; 
            max-width: 400px; 
            z-index: 100; 
        }
        
        .btn-main { 
            width: 100%; 
            padding: 16px; 
            border: none; 
            border-radius: 50px; 
            background: linear-gradient(90deg, #8b5cf6, #ec4899); 
            color: white; 
            font-weight: 900; 
            font-size: 1.1rem; 
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.5); 
            cursor: pointer; 
            animation: pulse 2s infinite; 
        }
        
        @keyframes pulse { 
            0% {transform: scale(1);} 
            50% {transform: scale(1.03);} 
            100% {transform: scale(1);} 
        }
        
        .modal { 
            position: fixed; 
            inset: 0; 
            background: rgba(0,0,0,0.95); 
            display: none; 
            align-items: center; 
            justify-content: center; 
            z-index: 200; 
            backdrop-filter: blur(5px); 
            padding: 20px;
        }
        
        .modal-box { 
            background: #1e293b; 
            width: 100%; 
            max-width: 400px; 
            padding: 25px; 
            border-radius: 20px; 
            border: 1px solid var(--border); 
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .input-label { 
            display: block; 
            color: #cbd5e1; 
            font-size: 0.9rem; 
            margin-bottom: 8px; 
            text-align: left; 
        }
        
        .input-el { 
            width: 100%; 
            padding: 12px; 
            margin-bottom: 15px; 
            background: rgba(0,0,0,0.3); 
            border: 1px solid var(--border); 
            color: white; 
            border-radius: 10px; 
            font-size: 1rem; 
        }

        /* çµæœé é¢ */
        #result-view { 
            display: none; 
            padding-bottom: 120px; 
        }
        
        .result-layout { 
            display: flex; 
            flex-direction: column; 
            gap: 20px; 
        }
        
        @media (min-width: 900px) { 
            .result-layout { 
                display: grid; 
                grid-template-columns: 350px 1fr; 
                align-items: start; 
                gap: 25px;
            } 
        }
        
        .main-star-card { 
            background: linear-gradient(180deg, rgba(139, 92, 246, 0.15), rgba(0,0,0,0.4)); 
            border: 2px solid var(--primary); 
            border-radius: 20px; 
            padding: 25px; 
            text-align: center; 
            margin-bottom: 20px; 
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.2); 
        }
        
        .star-name { 
            font-size: clamp(2rem, 6vw, 2.5rem); 
            font-weight: 900; 
            margin: 10px 0; 
            text-shadow: 0 0 30px rgba(139,92,246,0.6); 
        }
        
        .star-tag { 
            background: var(--primary); 
            color: white; 
            padding: 5px 12px; 
            border-radius: 20px; 
            font-size: 0.85rem; 
            font-weight: bold; 
            letter-spacing: 1px; 
        }
        
        /* MBTIå¡ç‰‡ - ä¿®æ­£é»æ“Šå€åŸŸ */
        .mbti-card { 
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(0,0,0,0.6)); 
            border: 2px solid var(--mbti); 
            border-radius: 20px; 
            padding: 20px; 
            text-align: center; 
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.2); 
            position: relative;
        }
        
        .mbti-res { 
            font-size: 2rem; 
            font-weight: 900; 
            color: white; 
            margin: 10px 0; 
            font-family: monospace; 
        }
        
        .btn-mbti { 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            width: 100%; 
            padding: 14px; 
            margin-top: 15px; 
            background: var(--mbti); 
            color: #000; 
            font-weight: 900; 
            border-radius: 12px; 
            text-decoration: none; 
            transition: 0.2s; 
            font-size: 1rem; 
            box-shadow: 0 5px 20px rgba(16, 185, 129, 0.4); 
            border: 2px solid #34d399; 
            cursor: pointer;
        }
        
        .btn-mbti:hover,
        .btn-mbti:active { 
            transform: translateY(-2px); 
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.5); 
            background: #0da271;
        }

        /* å„€è¡¨æ¿ç¶²æ ¼ */
        .dashboard-grid { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 10px; 
        }
        
        @media (min-width: 600px) { 
            .dashboard-grid { 
                grid-template-columns: repeat(3, 1fr); 
                gap: 15px;
            } 
        }
        
        .stat-card { 
            background: rgba(255,255,255,0.03); 
            border: 1px solid var(--border); 
            padding: 15px; 
            border-radius: 15px; 
            text-align: center; 
        }
        
        .stat-val { 
            font-size: 0.9rem; 
            font-weight: bold; 
            color: #fff; 
            margin-top: 5px; 
        }
        
        .cat-title { 
            grid-column: 1 / -1; 
            margin-top: 20px; 
            font-size: 0.9rem; 
            color: var(--gold); 
            border-bottom: 1px solid var(--border); 
            padding-bottom: 5px; 
            font-weight: bold; 
        }

        /* é–å®šå’Œè§£é–å€åŸŸ */
        .lock-box { 
            background: linear-gradient(to right, #1e1b4b, #000); 
            border: 1px solid var(--gold); 
            padding: 25px; 
            border-radius: 18px; 
            text-align: center; 
            margin-top: 20px; 
        }
        
        .btn-unlock { 
            background: var(--gold); 
            color: black; 
            border: none; 
            padding: 12px 30px; 
            border-radius: 25px; 
            font-weight: bold; 
            cursor: pointer; 
            font-size: 1rem; 
            margin-top: 15px; 
        }
        
        #hidden-content { 
            display: none; 
            margin-top: 20px; 
            animation: fadeIn 1s; 
        }
        
        /* ä¾¿ç•¶å¼å»ºè­°å€ - æ‰‹æ©Ÿå„ªå…ˆ */
        .advice-bento-grid { 
            display: grid; 
            grid-template-columns: 1fr; 
            gap: 15px; 
            margin-top: 20px;
            margin-bottom: 30px;
        }
        
        @media (min-width: 768px) { 
            .advice-bento-grid { 
                grid-template-columns: repeat(2, 1fr); 
                gap: 20px;
            }
        }
        
        @media (min-width: 1024px) { 
            .advice-bento-grid { 
                grid-template-columns: repeat(3, 1fr); 
                gap: 20px;
            }
        }
        
        .advice-card {
            background: linear-gradient(135deg, var(--card-glass), rgba(139, 92, 246, 0.1));
            border: 2px solid var(--border);
            border-radius: 18px;
            padding: 20px;
            transition: all 0.3s ease;
            min-height: 180px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .advice-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.2));
        }
        
        .advice-icon {
            font-size: 2rem;
            margin-bottom: 12px;
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .advice-title {
            font-weight: bold;
            font-size: 1.1rem;
            color: #fff;
            margin-bottom: 8px;
            line-height: 1.3;
        }
        
        .advice-desc {
            font-size: 0.9rem;
            color: #cbd5e1;
            line-height: 1.5;
            flex-grow: 1;
        }
        
        .advice-tag {
            display: inline-block;
            background: rgba(6, 182, 212, 0.2);
            color: var(--accent);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            margin-top: 12px;
            align-self: flex-start;
        }
        
        /* åŸºæœ¬å»ºè­°å€ */
        .basic-advice-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        @media (min-width: 600px) {
            .basic-advice-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
        }
        
        .basic-advice-card {
            background: linear-gradient(135deg, var(--card-glass), rgba(139, 92, 246, 0.1));
            border: 1px solid var(--border);
            border-radius: 18px;
            padding: 20px;
        }
        
        .basic-advice-title {
            font-weight: bold;
            font-size: 1rem;
            color: #fff;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .basic-advice-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .basic-advice-list li {
            margin-bottom: 8px;
            color: #cbd5e1;
            line-height: 1.5;
            font-size: 0.9rem;
            display: flex;
            align-items: start;
        }
        
        .basic-advice-list li::before {
            content: 'âœ¦';
            color: var(--primary);
            margin-right: 8px;
            flex-shrink: 0;
        }
        
        /* åˆ†äº«æŒ‰éˆ• */
        .btn-share { 
            width: 100%; 
            background: linear-gradient(90deg, #3b82f6, #8b5cf6); 
            color: white; 
            padding: 16px; 
            border-radius: 12px; 
            font-weight: bold; 
            cursor: pointer; 
            margin-top: 20px; 
            font-size: 1rem; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 8px; 
            border:none; 
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3); 
        }
        
        /* æç¤ºè¨Šæ¯ */
        #toast { 
            visibility: hidden; 
            min-width: 250px; 
            background-color: #333; 
            color: #fff; 
            text-align: center; 
            border-radius: 50px; 
            padding: 14px; 
            position: fixed; 
            z-index: 1000; 
            left: 50%; 
            bottom: 20px; 
            transform: translateX(-50%); 
            font-size: 0.9rem; 
        }
        
        #toast.show { 
            visibility: visible; 
            animation: fadein 0.5s, fadeout 0.5s 2.5s; 
        }
        
        @keyframes fadein { 
            from {bottom: 0; opacity: 0;} 
            to {bottom: 20px; opacity: 1;} 
        }
        
        @keyframes fadeout { 
            from {bottom: 20px; opacity: 1;} 
            to {bottom: 0; opacity: 0;} 
        }
        
        @keyframes fadeIn { 
            from {opacity:0;} 
            to {opacity:1;} 
        }
        
        /* å»£å‘Šæ¨£å¼ */
        .ad-container {
            border: 2px dashed rgba(255,255,255,0.1);
            border-radius: 12px;
            min-height: 120px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.3);
            margin: 15px 0;
        }
        
        .ad-label {
            color: #666;
            font-size: 0.8rem;
            position: absolute;
            top: 5px;
            right: 10px;
        }
        
        /* æ‰‹æ©Ÿå°ˆç”¨èª¿æ•´ */
        @media (max-width: 767px) {
            .container {
                padding: 15px;
            }
            
            nav {
                padding: 12px 15px;
            }
            
            .hero {
                padding: 15px 0 25px;
            }
            
            .bento-card {
                min-height: 140px;
                padding: 18px;
                border-radius: 16px;
            }
            
            .c-icon {
                margin-bottom: 8px;
            }
            
            .c-title {
                margin-bottom: 3px;
            }
            
            .btn-main {
                padding: 14px;
                font-size: 1rem;
            }
            
            .cta-wrapper {
                bottom: 15px;
            }
            
            .mbti-card {
                padding: 15px;
            }
            
            .btn-mbti {
                padding: 12px;
                font-size: 0.9rem;
                margin-top: 10px;
            }
            
            .dashboard-grid {
                gap: 8px;
            }
            
            .stat-card {
                padding: 12px;
            }
            
            .main-star-card {
                padding: 20px;
            }
            
            .star-name {
                font-size: 1.8rem;
            }
            
            .advice-card,
            .basic-advice-card {
                padding: 15px;
                min-height: 160px;
            }
        }
        
        /* è¶…å°æ‰‹æ©Ÿ */
        @media (max-width: 374px) {
            .hero h1 {
                font-size: 1.5rem;
            }
            
            .bento-card {
                min-height: 120px;
                padding: 15px;
            }
            
            .c-icon {
                font-size: 1.8rem;
            }
            
            .c-title {
                font-size: 0.9rem;
            }
            
            .c-desc {
                font-size: 0.75rem;
            }
            
            .lang-btn {
                padding: 4px 10px;
                font-size: 0.7rem;
            }
        }
        
        /* ç¢ºä¿MBTIæŒ‰éˆ•åœ¨æ‰‹æ©Ÿä¸Šèƒ½é»æ“Š */
        .mbti-button-wrapper {
            display: block;
            width: 100%;
            text-decoration: none;
        }
        
        /* æ”¹å–„è§¸æ‘¸é«”é©— */
        @media (hover: none) and (pointer: coarse) {
            .bento-card:active,
            .btn-mbti:active,
            .btn-main:active,
            .btn-unlock:active {
                transform: scale(0.98);
            }
            
            .bento-card:hover {
                transform: none;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="logo">ASTROãƒ»POP</div>
        <div class="lang-scroll">
            <button class="lang-btn active" onclick="setLang('zh')">ç¹ä¸­</button>
            <button class="lang-btn" onclick="setLang('en')">EN</button>
            <button class="lang-btn" onclick="setLang('jp')">æ—¥æœ¬èª</button>
            <button class="lang-btn" onclick="setLang('kr')">í•œêµ­ì–´</button>
        </div>
    </nav>

    <!-- é¦–é  -->
    <div class="container" id="home-view">
        <div class="hero">
            <h1 id="txt-hero">2026 ç´«å¾®æ–—æ•¸<br><span style="color:var(--accent)">AI å…¨æ¯äººç”Ÿæ”»ç•¥</span></h1>
            <p id="txt-sub">è¼¸å…¥ç”Ÿæ—¥ï¼Œå³åˆ»è§£é– 2026 é‹å‹¢ã€æ„›æƒ…é›·å€èˆ‡è·å ´äººè¨­ã€‚</p>
        </div>
        
        <div class="bento-grid">
            <div class="bento-card item-large" onclick="openInput()">
                <div class="c-icon">ğŸ‘‘</div>
                <div class="c-title" id="c1t">æœ¬å‘½ä¸»æ˜Ÿ & RPG</div>
                <div class="c-desc" id="c1d">ä½ æ˜¯é ˜è¢–é‚„æ˜¯è»å¸«ï¼Ÿ</div>
            </div>
            
            <div class="bento-card" onclick="openInput()">
                <div class="c-icon">ğŸ’˜</div>
                <div class="c-title" id="c2t">æ„›æƒ…é›·å€</div>
                <div class="c-desc" id="c2d">ç‚ºä½•ç¸½é‡æ¸£ç”·ï¼Ÿ</div>
            </div>
            
            <!-- å»£å‘Šå€å¡Š 1 -->
            <div class="bento-card ad-container">
                <span class="ad-label">å»£å‘Š</span>
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-2895749032536610"
                     data-ad-slot="1234567890"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            </div>
            
            <div class="bento-card" onclick="openInput()">
                <div class="c-icon">ğŸ’¼</div>
                <div class="c-title" id="c3t">è·å ´äººè¨­</div>
                <div class="c-desc" id="c3d">åŠ ç­ç‹‚é‚„æ˜¯è–ªæ°´å°å·ï¼Ÿ</div>
            </div>
            
            <div class="bento-card" onclick="openInput()">
                <div class="c-icon">ğŸ¶</div>
                <div class="c-title" id="c4t">éˆé­‚å„€è¡¨æ¿</div>
                <div class="c-desc" id="c4d">å‘½å®šå¯µç‰©ã€ç¤¾äº¤é›»é‡</div>
            </div>
            
            <div class="bento-card" onclick="openInput()">
                <div class="c-icon">ğŸ”®</div>
                <div class="c-title" id="c5t">åå¤§å‘½ç†å»ºè­°</div>
                <div class="c-desc" id="c5d">è²¡é‹ã€æ„Ÿæƒ…ã€äº‹æ¥­å®Œæ•´è§£æ</div>
            </div>
        </div>
        
        <div class="cta-wrapper">
            <button class="btn-main" onclick="openInput()" id="btn-start">âš¡ ç«‹å³å…è²»æ¸¬ç®—</button>
        </div>
        <div style="height:80px"></div>
    </div>

    <!-- è¼¸å…¥å½ˆçª— -->
    <div class="modal" id="input-modal">
        <div class="modal-box">
            <h2 id="m-title" style="margin:0 0 15px 0; text-align:center;">è¼¸å…¥è³‡æ–™</h2>
            
            <label class="input-label" id="l-name">æ‚¨çš„ç¨±å‘¼ (Name)</label>
            <input type="text" class="input-el" id="inp-name" placeholder="ä¾‹å¦‚ï¼šå°æ˜">
            
            <label class="input-label" id="l-date">å‡ºç”Ÿæ—¥æœŸ (Date)</label>
            <input type="date" class="input-el" id="inp-date" min="1900-01-01" max="2024-12-31">
            
            <label class="input-label" id="l-time">å‡ºç”Ÿæ™‚è¾° (Time)</label>
            <select class="input-el" id="inp-hour">
                <option value="23">å­æ™‚ (23:00-00:59)</option>
                <option value="1">ä¸‘æ™‚ (01:00-02:59)</option>
                <option value="3">å¯…æ™‚ (03:00-04:59)</option>
                <option value="5">å¯æ™‚ (05:00-06:59)</option>
                <option value="7">è¾°æ™‚ (07:00-08:59)</option>
                <option value="9">å·³æ™‚ (09:00-10:59)</option>
                <option value="11">åˆæ™‚ (11:00-12:59)</option>
                <option value="13">æœªæ™‚ (13:00-14:59)</option>
                <option value="15">ç”³æ™‚ (15:00-16:59)</option>
                <option value="17">é…‰æ™‚ (17:00-18:59)</option>
                <option value="19">æˆŒæ™‚ (19:00-20:59)</option>
                <option value="21">äº¥æ™‚ (21:00-22:59)</option>
            </select>
            
            <label class="input-label" id="l-gender">æ€§åˆ¥ (Gender)</label>
            <select class="input-el" id="inp-gender">
                <option value="male">ç”· (Male)</option>
                <option value="female">å¥³ (Female)</option>
                <option value="other">å…¶ä»– (Other)</option>
            </select>
            
            <button class="btn-main" onclick="calculatePurpleStar()" id="m-btn">âœ¨ é–‹å§‹åˆ†æ</button>
            
            <div style="text-align:center; margin-top:15px; color:#aaa; cursor:pointer;" onclick="closeInput()" id="m-close">
                å–æ¶ˆ
            </div>
        </div>
    </div>

    <!-- çµæœé é¢ -->
    <div class="container" id="result-view">
        <div class="result-layout">
            <!-- å·¦å´æ¬„ä½ -->
            <div class="left-col">
                <div class="main-star-card">
                    <span class="star-tag" id="res-tag">THE EMPEROR</span>
                    <div class="star-name" id="res-star">--</div>
                    <p style="color:#e2e8f0; line-height:1.6; font-size:0.95rem;" id="res-desc">--</p>
                    
                    <!-- ç´«å¾®æ–—æ•¸å°ˆå±¬è³‡è¨Š -->
                    <div style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div style="text-align:center; background: rgba(255,255,255,0.05); padding: 10px; border-radius: 10px;">
                            <div style="color:#94a3b8; font-size:0.8rem;" id="l-minggong">å‘½å®®</div>
                            <div id="res-minggong" style="font-weight:bold; font-size:1rem;">--</div>
                        </div>
                        <div style="text-align:center; background: rgba(255,255,255,0.05); padding: 10px; border-radius: 10px;">
                            <div style="color:#94a3b8; font-size:0.8rem;" id="l-shengong">èº«å®®</div>
                            <div id="res-shengong" style="font-weight:bold; font-size:1rem;">--</div>
                        </div>
                    </div>
                    
                    <!-- äº”è¡Œå±€ -->
                    <div style="margin-top: 15px; text-align:center;">
                        <div style="color:#94a3b8; font-size:0.8rem;" id="l-wuxing">äº”è¡Œå±€</div>
                        <div id="res-wuxing" style="font-weight:bold; font-size:1.2rem; margin:5px 0;">æ°´äºŒå±€</div>
                        <div style="color:#cbd5e1; font-size:0.85rem;" id="res-wuxing-desc">æ™ºè¬€æ·±é ï¼Œé©æ‡‰åŠ›å¼·</div>
                    </div>
                </div>
                
                <!-- MBTI åŒ¹é… - ä¿®æ­£é»æ“Šå•é¡Œ -->
                <div class="mbti-card">
                    <div style="color:var(--mbti); font-weight:bold; letter-spacing:1px; margin-bottom:10px;" id="l-comp-mbti">
                        æœ€ä½³ä¼´ä¾¶äººæ ¼
                    </div>
                    <div style="font-size:0.9rem; color:white; margin-bottom:5px;" id="l-match-desc">
                        é©åˆèˆ‡ä½ äº’è£œçš„äººæ ¼
                    </div>
                    <div class="mbti-res" id="res-mbti">ISFJ</div>
                    <div style="color:#cbd5e1; font-size:0.9rem; margin-bottom:15px;" id="res-mbti-desc">
                        å®ˆè­·è€… (Defender)
                    </div>
                    
                    <!-- ä¿®æ­£çš„MBTIæŒ‰éˆ• - ç¢ºä¿ç«‹å³é–‹å•Ÿ -->
                    <button class="btn-mbti" id="mbti-button" onclick="window.open('https://mbti-9lg4.onrender.com', '_blank')">
                        <span style="margin-right:8px;">ğŸ‘‰</span> 
                        <span id="txt-promo">å»æ¸¬æ¸¬ä½ è‡ªå·±/å°è±¡æ˜¯ä»€éº¼äººæ ¼ï¼Ÿ</span>
                    </button>
                </div>
            </div>
            
            <!-- å³å´æ¬„ä½ -->
            <div class="right-col">
                <!-- å„€è¡¨æ¿ -->
                <div class="dashboard-grid">
                    <div class="cat-title">â¤ï¸ LOVE & SOCIAL</div>
                    <div class="stat-card">
                        <span class="stat-icon">ğŸ’</span>
                        <div class="stat-val" id="res-love">--</div>
                        <div class="stat-label" id="l-love">æˆ€æ„›äººè¨­</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">ğŸš©</span>
                        <div class="stat-val" style="color:#fca5a5;" id="res-toxic">--</div>
                        <div class="stat-label" id="l-toxic">è‡´å‘½å‰ä»»</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">ğŸ’‹</span>
                        <div class="stat-val" id="res-flirt">--</div>
                        <div class="stat-label" id="l-flirt">èª¿æƒ…å¿…æ®º</div>
                    </div>
                    
                    <div class="cat-title">ğŸ’¼ CAREER & MONEY</div>
                    <div class="stat-card">
                        <span class="stat-icon">ğŸ¢</span>
                        <div class="stat-val" id="res-role">--</div>
                        <div class="stat-label" id="l-role">è¾¦å…¬å®¤è§’è‰²</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">ğŸ’¸</span>
                        <div class="stat-val" id="res-trap">--</div>
                        <div class="stat-label" id="l-trap">è‡´å¯Œå¼±é»</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">ğŸš€</span>
                        <div class="stat-val" id="res-power">--</div>
                        <div class="stat-label" id="l-power">è·å ´è¶…èƒ½åŠ›</div>
                    </div>
                    
                    <div class="cat-title">ğŸ² FUN & RPG</div>
                    <div class="stat-card">
                        <span class="stat-icon">âš”ï¸</span>
                        <div class="stat-val" id="res-rpg">--</div>
                        <div class="stat-label" id="l-rpg">RPG è·æ¥­</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">ğŸ§Ÿ</span>
                        <span class="stat-val" style="color:#fde047;" id="res-surv">--</span>
                        <div class="stat-label" id="l-surv">æœ«æ—¥å­˜æ´»ç‡</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">ğŸ¶</span>
                        <div class="stat-val" id="res-pet">--</div>
                        <div class="stat-label" id="l-pet">å‘½å®šèŒå¯µ</div>
                    </div>
                </div>
                
                <!-- å»£å‘Šå€å¡Š 2 -->
                <div class="ad-container" style="margin:20px 0;">
                    <span class="ad-label">å»£å‘Š</span>
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-2895749032536610"
                         data-ad-slot="0987654321"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                </div>
                
                <!-- åŸºæœ¬å»ºè­°å€ -->
                <div class="basic-advice-grid" id="basic-advice">
                    <!-- å°‡ç”±JavaScriptå‹•æ…‹ç”Ÿæˆ -->
                </div>
                
                <!-- è§£é–å€åŸŸ -->
                <div class="lock-box" id="lock-area">
                    <h3 style="color:var(--gold); margin-top:0; font-size:1.2rem;" id="t-unlock">
                        ğŸ”“ è§£é– 2026 åå¤§å‘½ç†å»ºè­°
                    </h3>
                    <p style="color:#94a3b8; font-size:0.9rem; line-height:1.5;" id="d-unlock">
                        å«è²¡é‹æŠ•è³‡ã€æ­£ç·£æ¡ƒèŠ±ã€äº‹æ¥­çªç ´ã€å¥åº·é¤Šç”Ÿç­‰å®Œæ•´è§£æ
                    </p>
                    <button class="btn-unlock" onclick="loadFullReport()" id="btn-unlock">
                        ğŸ‘‰ è§£é–å®Œæ•´å ±å‘Š
                    </button>
                </div>
                
                <!-- éš±è—å…§å®¹ï¼šåå¤§å»ºè­° -->
                <div id="hidden-content">
                    <h3 style="color:var(--gold); margin-bottom: 20px; text-align: center; font-size:1.3rem;">
                        ğŸ”® ç´«å¾®æ–—æ•¸ 10 å¤§å‘½ç†å»ºè­°
                    </h3>
                    
                    <!-- åå¤§å»ºè­°ç¶²æ ¼ -->
                    <div class="advice-bento-grid" id="advice-grid">
                        <!-- å°‡ç”±JavaScriptå‹•æ…‹ç”Ÿæˆ -->
                    </div>
                    
                    <!-- åˆ†äº«æŒ‰éˆ• -->
                    <button class="btn-share" onclick="shareResult()">
                        <span>ğŸ“¤</span> 
                        <span id="b-share">åˆ†äº«å‘½ç›¤çµæœ</span>
                    </button>
                    
                    <!-- é‡æ–°æ¸¬è©¦ -->
                    <button onclick="location.reload()" style="width:100%; margin-top:15px; background:transparent; border:none; color:#666; text-decoration:underline; cursor:pointer; font-size:0.9rem;">
                        ğŸ”„ é‡æ–°æ¸¬è©¦
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="toast">ğŸ“‹ å·²è¤‡è£½ï¼</div>

    <script>
        // ==================== 1. å¤šåœ‹èªè¨€å­—å…¸ ====================
        const ui = {
            zh: { 
                hero: "2026 ç´«å¾®æ–—æ•¸<br><span style='color:var(--accent)'>AI å…¨æ¯äººç”Ÿæ”»ç•¥</span>", 
                sub: "è¼¸å…¥ç”Ÿæ—¥ï¼Œå³åˆ»è§£é– 2026 é‹å‹¢ã€æ„›æƒ…é›·å€èˆ‡è·å ´äººè¨­ã€‚", 
                c1t: "æœ¬å‘½ä¸»æ˜Ÿ & RPG", c1d: "ä½ æ˜¯é ˜è¢–é‚„æ˜¯è»å¸«ï¼Ÿ", 
                c2t: "æ„›æƒ…é›·å€", c2d: "ç‚ºä½•ç¸½é‡æ¸£ç”·ï¼Ÿ", 
                c3t: "è·å ´äººè¨­", c3d: "åŠ ç­ç‹‚é‚„æ˜¯è–ªæ°´å°å·ï¼Ÿ", 
                c4t: "éˆé­‚å„€è¡¨æ¿", c4d: "å‘½å®šå¯µç‰©ã€ç¤¾äº¤é›»é‡", 
                c5t: "åå¤§å‘½ç†å»ºè­°", c5d: "è²¡é‹ã€æ„Ÿæƒ…ã€äº‹æ¥­å®Œæ•´è§£æ",
                btn: "âš¡ ç«‹å³å…è²»æ¸¬ç®—", 
                mTitle: "è¼¸å…¥è³‡æ–™", 
                mBtn: "âœ¨ é–‹å§‹åˆ†æ", 
                mClose: "å–æ¶ˆ", 
                lLove: "æˆ€æ„›äººè¨­", lToxic: "è‡´å‘½å‰ä»»", lFlirt: "èª¿æƒ…å¿…æ®º",
                lRole: "è¾¦å…¬å®¤è§’è‰²", lTrap: "è‡´å¯Œå¼±é»", lPower: "è·å ´è¶…èƒ½åŠ›",
                lRpg: "RPG è·æ¥­", lSurv: "æœ«æ—¥å­˜æ´»ç‡", lPet: "å‘½å®šèŒå¯µ",
                lMinggong: "å‘½å®®", lShengong: "èº«å®®", lWuxing: "äº”è¡Œå±€",
                tUnlock: "ğŸ”“ è§£é– 2026 åå¤§å‘½ç†å»ºè­°", 
                dUnlock: "å«è²¡é‹æŠ•è³‡ã€æ­£ç·£æ¡ƒèŠ±ã€äº‹æ¥­çªç ´ã€å¥åº·é¤Šç”Ÿç­‰å®Œæ•´è§£æ", 
                uBtn: "ğŸ‘‰ è§£é–å®Œæ•´å ±å‘Š", 
                bShare: "åˆ†äº«å‘½ç›¤çµæœ",
                txtPromo: "å»æ¸¬æ¸¬ä½ è‡ªå·±/å°è±¡æ˜¯ä»€éº¼äººæ ¼ï¼Ÿ",
                lCompMbti: "æœ€ä½³ä¼´ä¾¶äººæ ¼",
                lMatchDesc: "é©åˆèˆ‡ä½ äº’è£œçš„äººæ ¼"
            },
            en: { 
                hero: "2026 Purple Star Astrology<br><span style='color:var(--accent)'>AI Life Strategy</span>", 
                sub: "Decode destiny, love red flags, and career persona in 3s.", 
                c1t: "Fate Star & RPG", c1d: "Leader or Strategist?", 
                c2t: "Love Red Flags", c2d: "Why toxic relationships?", 
                c3t: "Work Persona", c3d: "Workaholic or Salary Thief?", 
                c4t: "Soul Dashboard", c4d: "Destiny Pet, Social Battery", 
                c5t: "10 Fortune Tips", c5d: "Wealth, Love, Career Analysis",
                btn: "âš¡ Start Analysis", 
                mTitle: "Enter Details", 
                mBtn: "âœ¨ Analyze", 
                mClose: "Close", 
                lLove: "Love Style", lToxic: "Toxic Ex", lFlirt: "Flirt Move",
                lRole: "Office Role", lTrap: "Money Trap", lPower: "Superpower",
                lRpg: "RPG Class", lSurv: "Survival %", lPet: "Soul Pet",
                lMinggong: "Fate Palace", lShengong: "Body Palace", lWuxing: "5 Elements",
                tUnlock: "ğŸ”“ Unlock 10 Fortune Tips", 
                dUnlock: "Includes wealth, love, career, health and more", 
                uBtn: "ğŸ‘‰ Unlock Full Report", 
                bShare: "Share Chart Result",
                txtPromo: "Test your/partner's MBTI type",
                lCompMbti: "Best Partner Type",
                lMatchDesc: "Best Match Personality"
            },
            jp: { 
                hero: "2026 ç´«å¾®æ–—æ•°<br><span style='color:var(--accent)'>AI äººç”Ÿæ”»ç•¥</span>", 
                sub: "é‹å‹¢ã€æ‹æ„›ã®åœ°é›·ã€è·å ´ã®ã‚­ãƒ£ãƒ©ã‚’å³åº§ã«åˆ†æã€‚", 
                c1t: "æœ¬å‘½ã®æ˜Ÿ & RPG", c1d: "ãƒªãƒ¼ãƒ€ãƒ¼ï¼Ÿå‚è¬€ï¼Ÿ", 
                c2t: "æ‹æ„›åœ°é›·", c2d: "ãªãœãƒ€ãƒ¡ãƒ³ã‚ºã‚’ï¼Ÿ", 
                c3t: "è·å ´ã‚­ãƒ£ãƒ©", c3d: "ç¤¾ç•œï¼Ÿçµ¦æ–™æ³¥æ£’ï¼Ÿ", 
                c4t: "é­‚ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰", c4d: "é‹å‘½ã®ãƒšãƒƒãƒˆã€ç”Ÿå­˜ç‡", 
                c5t: "10å¤§å ã„ã‚¢ãƒ‰ãƒã‚¤ã‚¹", c5d: "é‡‘é‹ã€æ‹æ„›ã€ä»•äº‹å®Œå…¨åˆ†æ",
                btn: "âš¡ ç„¡æ–™è¨ºæ–­", 
                mTitle: "æƒ…å ±ã‚’å…¥åŠ›", 
                mBtn: "âœ¨ åˆ†æé–‹å§‹", 
                mClose: "é–‰ã˜ã‚‹", 
                lLove: "æ‹æ„›ã‚¹ã‚¿ã‚¤ãƒ«", lToxic: "è‹¦æ‰‹ãªã‚¿ã‚¤ãƒ—", lFlirt: "å¿…æ®ºæŠ€",
                lRole: "è·å ´ã®å½¹å‰²", lTrap: "æµªè²»ã®å¼±ç‚¹", lPower: "ä»•äº‹ã®èƒ½åŠ›",
                lRpg: "RPGã‚¸ãƒ§ãƒ–", lSurv: "ç”Ÿå­˜ç‡", lPet: "ãƒšãƒƒãƒˆ",
                lMinggong: "å‘½å®®", lShengong: "èº«å®®", lWuxing: "äº”è¡Œå±€",
                tUnlock: "ğŸ”“ 10å¤§å ã„ã‚¢ãƒ‰ãƒã‚¤ã‚¹", 
                dUnlock: "é‡‘é‹ã€æ‹æ„›ã€ã‚­ãƒ£ãƒªã‚¢ã€å¥åº·ãªã©ã‚’å«ã‚€", 
                uBtn: "ğŸ‘‰ å®Œå…¨ãƒ¬ãƒãƒ¼ãƒˆ", 
                bShare: "çµæœã‚’ã‚·ã‚§ã‚¢",
                txtPromo: "ã‚ãªãŸã‚„ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®MBTIã‚’è¨ºæ–­",
                lCompMbti: "ç›¸æ€§ã®è‰¯ã„MBTI",
                lMatchDesc: "ãƒ™ã‚¹ãƒˆãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼"
            },
            kr: { 
                hero: "2026 ìë¯¸ë‘ìˆ˜<br><span style='color:var(--accent)'>AI ì¸ìƒ ê³µëµ</span>", 
                sub: "ìš´ì„¸, ì—°ì•  ì§€ë¢°, ì§ì¥ ìºë¦­í„° ì¦‰ì‹œ ì ê¸ˆ í•´ì œ.", 
                c1t: "ë³¸ëª… ì£¼ì„± & RPG", c1d: "ë¦¬ë”ì¸ê°€ ì°¸ëª¨ì¸ê°€?", 
                c2t: "ì—°ì•  ì§€ë¢°", c2d: "ë‚˜ìœ ë‚¨ìë§Œ ê¼¬ì„?", 
                c3t: "ì§ì¥ ìºë¦­í„°", c3d: "ì›Œì»¤í™€ë¦­? ì›”ê¸‰ë£¨íŒ¡?", 
                c4t: "ì˜í˜¼ ëŒ€ì‹œë³´ë“œ", c4d: "ìš´ëª…ì˜ í«, ìƒì¡´ìœ¨", 
                c5t: "10ëŒ€ ìš´ì„¸ ì¡°ì–¸", c5d: "ì¬ë¬¼ìš´, ì—°ì• , ì§ì¥ ì™„ì „ ë¶„ì„",
                btn: "âš¡ ë¬´ë£Œ ë¶„ì„", 
                mTitle: "ì •ë³´ ì…ë ¥", 
                mBtn: "âœ¨ ë¶„ì„ ì‹œì‘", 
                mClose: "ì·¨ì†Œ", 
                lLove: "ì—°ì•  ìŠ¤íƒ€ì¼", lToxic: "ìµœì•…ì˜ ì „ ì• ì¸", lFlirt: "í”ŒëŸ¬íŒ…",
                lRole: "ì˜¤í”¼ìŠ¤ ì—­í• ", lTrap: "ëˆ ìƒˆëŠ” ê³³", lPower: "ì—…ë¬´ í•„ì‚´ê¸°",
                lRpg: "RPG ì§ì—…", lSurv: "ìƒì¡´ìœ¨", lPet: "ìš´ëª…ì˜ í«",
                lMinggong: "ëª…ê¶", lShengong: "ì‹ ê¶", lWuxing: "ì˜¤í–‰êµ­",
                tUnlock: "ğŸ”“ 10ëŒ€ ìš´ì„¸ ì¡°ì–¸", 
                dUnlock: "ì¬ë¬¼ìš´, ì—°ì• , ì§ì¥, ê±´ê°• ë“±ì„ í¬í•¨", 
                uBtn: "ğŸ‘‰ ì „ì²´ ë¦¬í¬íŠ¸", 
                bShare: "ê²°ê³¼ ê³µìœ ",
                txtPromo: "ë‚˜/íŒŒíŠ¸ë„ˆì˜ MBTI í…ŒìŠ¤íŠ¸í•˜ê¸°",
                lCompMbti: "ì˜ ë§ëŠ” ìœ í˜•",
                lMatchDesc: "ë² ìŠ¤íŠ¸ ë§¤ì¹˜ MBTI"
            }
        };

        // ==================== 2. ç´«å¾®æ–—æ•¸ä¸»æ˜Ÿè³‡æ–™åº« ====================
        const purpleStarDB = [
            {
                id: 1,
                name: {zh:"ç´«å¾®æ˜Ÿ", en:"Emperor Star", jp:"ç´«å¾®æ˜Ÿ", kr:"ìë¯¸ì„±"},
                tag: {zh:"å¤©ç”Ÿå¸ç‹", en:"Born Emperor", jp:"ã‚«ãƒªã‚¹ãƒå¸ç‹", kr:"íƒ€ê³ ë‚œ ì œì™•"},
                desc: {zh:"æ°£å ´å¼·å¤§ï¼Œé ˜å°åŠ›æ»¿åˆ†ï¼Œä¸æ„›è¢«ä½¿å–š", en:"Strong aura, full leadership, hates being ordered", jp:"ã‚«ãƒªã‚¹ãƒå¼·ã—", kr:"ì¹´ë¦¬ìŠ¤ë§ˆ ê°•í•¨"},
                mbti: "ENTJ",
                mbtiDesc: {zh:"æŒ‡æ®å®˜ (éœ€è¦ä½ çš„å¸¶é ˜)", en:"Commander (Needs your lead)", jp:"æŒ‡æ®å®˜", kr:"ì§€íœ˜ê´€"},
                
                // åŸºæœ¬å±¬æ€§
                loveStyle: {zh:"éœ¸é“ç¸½è£", en:"Dominant Boss", jp:"ä¿ºæ§˜ç³»", kr:"ë³´ìŠ¤"},
                toxicEx: {zh:"å›é€†è€…", en:"Rebel", jp:"åæŠ—çš„ãªäºº", kr:"ë°˜í•­ì•„"},
                flirt: {zh:"é€æ˜‚è²´ç¦®ç‰©", en:"Expensive Gifts", jp:"é«˜ä¾¡ãªè´ˆã‚Šç‰©", kr:"ë¹„ì‹¼ ì„ ë¬¼"},
                role: {zh:"åœ°ä¸‹è€é—†", en:"Underground Boss", jp:"è£ãƒœã‚¹", kr:"ì‹¤ì„¸"},
                trap: {zh:"å¥¢ä¾ˆå“/é¢å­", en:"Luxury/Face", jp:"ãƒ–ãƒ©ãƒ³ãƒ‰å“", kr:"ëª…í’ˆ/ì²´ë©´"},
                power: {zh:"é®å£“å…¨å ´", en:"Command Presence", jp:"å¨åœ§æ„Ÿ", kr:"ì œì••"},
                rpg: {zh:"è–é¨å£«", en:"Paladin", jp:"ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³", kr:"ì„±ê¸°ì‚¬"},
                surv: "95%",
                pet: {zh:"æ³¢æ–¯è²“", en:"Persian Cat", jp:"ãƒšãƒ«ã‚·ãƒ£çŒ«", kr:"í˜ë¥´ì‹œì•ˆ"},
                
                // åŸºæœ¬å»ºè­°
                friendTips: {zh:["ä¸è¦ç¸½æ˜¯æ¶è‘—è²·å–®", "å¤šè½æœ‹å‹å‚¾è¨´", "é é›¢åªæœƒæ‹é¦¬å±çš„äºº", "æ”¾ä¸‹èº«æ®µå±•ç¾è„†å¼±", "æ¥å—æœ‹å‹çš„å¹«åŠ©"], 
                           en:["Don't always pay", "Listen more", "Avoid yes-men", "Show vulnerability", "Accept help"]},
                familyTips: {zh:["åœ¨å®¶ä¸è¦ç•¶æŒ‡æ®å®˜", "å¤šèŠ±æ™‚é–“é™ªä¼´çˆ¶æ¯", "å°æ™šè¼©è¦æœ‰è€å¿ƒ", "ä¸»å‹•åˆ†æ“”å®¶å‹™", "å°Šé‡å®¶äººæ„è¦‹"], 
                           en:["Don't boss family", "Spend time", "Be patient", "Do chores", "Respect opinions"]},
                crushTips: {zh:["ä¸è¦ç”¨ç‰©è³ªä¾†ç ¸å°æ–¹", "æ”¾ä¸‹é«˜å§¿æ…‹ä¸»å‹•é—œå¿ƒ", "ç´„æœƒæ™‚è®“å°æ–¹åšæ±ºå®š", "é©æ™‚å±•ç¾åå·®èŒ", "ä¸è¦æ€¥è‘—ç¢ºèªé—œä¿‚"], 
                          en:["Money isn't love", "Be humble", "Let them decide", "Show cute side", "Give space"]},
                petTips: {zh:["éœ€è¦é«˜å“è³ªé£¼æ–™", "éœ€è¦å¤§æ´»å‹•ç©ºé–“", "è¨“ç·´è¦å¾å°é–‹å§‹", "å®šæœŸå¥åº·æª¢æŸ¥", "å¤šèŠ±æ™‚é–“æ¢³æ¯›"], 
                         en:["Quality food", "Big space", "Train early", "Vet checks", "Grooming"]},
                
                // ç´«å¾®æ–—æ•¸å°ˆå±¬
                fourhua: {zh:"åŒ–æ¬Š", en:"Power", jp:"åŒ–æ¨©", kr:"í™”ê¶Œ"},
                marriage: {zh:"å¤©åºœ", en:"Minister", jp:"å¤©åºœ", kr:"ì²œë¶€"},
                money: {zh:"æ­¦æ›²", en:"General", jp:"æ­¦æ›²", kr:"ë¬´ê³¡"},
                luck2026: {zh:"äº‹æ¥­çªç ´å¹´", en:"Career breakthrough year", jp:"äº‹æ¥­çªç ´ã®å¹´", kr:"ì§ì—… ëŒíŒŒë…„"}
            },
            {
                id: 2,
                name: {zh:"å¤©æ©Ÿæ˜Ÿ", en:"Strategist Star", jp:"å¤©æ©Ÿæ˜Ÿ", kr:"ì²œê¸°ì„±"},
                tag: {zh:"é¬¼æ‰ç­–å£«", en:"Mastermind", jp:"å¤©æ‰è»å¸«", kr:"ì²œì¬ ì „ëµê°€"},
                desc: {zh:"é»å­ç‹ï¼Œæ˜“ç„¦æ…®å¤±çœ ï¼Œæ€è€ƒæ•æ·", en:"Idea king, anxious, quick thinker", jp:"ã‚¢ã‚¤ãƒ‡ã‚¢ç‹", kr:"ì•„ì´ë””ì–´ ì™•"},
                mbti: "INTP",
                mbtiDesc: {zh:"é‚è¼¯å­¸å®¶ (æ¬£è³ä½ çš„è°æ˜)", en:"Logician (Appreciates your intelligence)", jp:"è«–ç†å­¦è€…", kr:"ë…¼ë¦¬í•™ì"},
                
                loveStyle: {zh:"å¿½å†·å¿½ç†±", en:"Hot & Cold", jp:"ãƒ„ãƒ³ãƒ‡ãƒ¬", kr:"ë°€ë‹¹"},
                toxicEx: {zh:"ç¬¨è›‹", en:"Stupid", jp:"ãƒã‚«", kr:"ë°”ë³´"},
                flirt: {zh:"å±•ç¾æ™ºå•†", en:"Witty Talk", jp:"çŸ¥çš„ä¼šè©±", kr:"ì§€ì  ëŒ€í™”"},
                role: {zh:"æ•‘ç«éšŠ", en:"Fixer", jp:"å‚è¬€", kr:"í•´ê²°ì‚¬"},
                trap: {zh:"3C/èª²ç¨‹", en:"Gadgets/Courses", jp:"ã‚¬ã‚¸ã‚§ãƒƒãƒˆ", kr:"ì „ìê¸°ê¸°"},
                power: {zh:"é åˆ¤æœªä¾†", en:"Foresight", jp:"äºˆçŸ¥", kr:"ì˜ˆì§€ë ¥"},
                rpg: {zh:"å¤§æ³•å¸«", en:"Mage", jp:"é­”æ³•ä½¿ã„", kr:"ë§ˆë²•ì‚¬"},
                surv: "75%",
                pet: {zh:"é‚Šå¢ƒç‰§ç¾ŠçŠ¬", en:"Border Collie", jp:"ç‰§ç¾ŠçŠ¬", kr:"ë³´ë” ì½œë¦¬"},
                
                friendTips: {zh:["ä¸è¦å°æœ‹å‹å¤ªè¨ˆè¼ƒç´°ç¯€", "åˆ†äº«é»å­ä½†ä¸è¦å¼·è¿«", "å¶çˆ¾é—œæ‰å¤§è…¦", "é é›¢è² èƒ½é‡æœ‹å‹", "ä¸»å‹•ç´„æœ‹å‹"], 
                           en:["Don't nitpick", "Share gently", "Relax", "Avoid negativity", "Initiate"]},
                familyTips: {zh:["ä¸è¦å°å®¶äººç¢ç¢å¿µ", "å®¶è£¡äº‹æƒ…ä¸è¦æƒ³å¤ªè¤‡é›œ", "å¤šè®šç¾å®¶äºº", "å¹«å®¶è£¡è§£æ±ºæŠ€è¡“å•é¡Œ", "ä½ˆç½®èˆ’é©ç’°å¢ƒ"], 
                           en:["Stop nagging", "Simplify", "Praise more", "Fix tech", "Better environment"]},
                crushTips: {zh:["ä¸è¦å¿½å†·å¿½ç†±", "ç›´æ¥è¡¨é”å–œæ­¡", "ç´„æœƒæ™‚å°ˆå¿ƒ", "åˆ†äº«æœ‰è¶£çŸ¥è­˜", "çµ¦å°æ–¹å®‰å…¨æ„Ÿ"], 
                          en:["Be consistent", "Be direct", "Focus", "Fun facts", "Safety"]},
                petTips: {zh:["é©åˆé¤Šè°æ˜å¯µç‰©", "å¯µç‰©èƒ½ç·©è§£ç„¦æ…®", "æ³¨æ„ç¥ç¶“ç³»çµ±å¥åº·", "ä¸è¦ä¸€ç›´æ›é£¼æ–™", "è²·ç›Šæ™ºç©å…·"], 
                         en:["Smart pets", "Hugs help", "Nervous system", "Consistent diet", "Puzzle toys"]},
                
                fourhua: {zh:"åŒ–ç§‘", en:"Fame", jp:"åŒ–ç§‘", kr:"í™”ê³¼"},
                marriage: {zh:"å¤ªé™°", en:"Moon", jp:"å¤ªé™°", kr:"íƒœìŒ"},
                money: {zh:"ç¥¿å­˜", en:"Wealth Storage", jp:"ç¥¿å­˜", kr:"ë¡ì¡´"},
                luck2026: {zh:"æ™ºæ…§è®Šç¾å¹´", en:"Wisdom monetization year", jp:"çŸ¥æµæ´»ç”¨ã®å¹´", kr:"ì§€í˜œ í˜„ê¸ˆí™”ë…„"}
            },
            {
                id: 3,
                name: {zh:"å¤ªé™½æ˜Ÿ", en:"Sun Star", jp:"å¤ªé™½æ˜Ÿ", kr:"íƒœì–‘ì„±"},
                tag: {zh:"ç†±è¡€éšŠé•·", en:"Passionate Captain", jp:"ç†±è¡€ãƒªãƒ¼ãƒ€ãƒ¼", kr:"ì—´í˜ˆ ëŒ€ì¥"},
                desc: {zh:"ç†±å¿ƒåŠ©äººï¼Œæ­£èƒ½é‡æ»¿æ»¿ï¼Œè—ä¸ä½è©±", en:"Helpful, positive energy, can't keep secrets", jp:"ä¸–è©±å¥½ã", kr:"ë•ê¸° ì¢‹ì•„í•¨"},
                mbti: "ENFJ",
                mbtiDesc: {zh:"ä¸»äººå…¬ (éœ€è¦ä½ çš„æº«æš–)", en:"Protagonist (Needs your warmth)", jp:"ä¸»äººå…¬", kr:"ì£¼ì¸ê³µ"},
                
                loveStyle: {zh:"å…¨å¤©æš–æ°£", en:"Warm", jp:"æƒ…ç†±çš„", kr:"ë”°ëœ»í•¨"},
                toxicEx: {zh:"å†·æš´åŠ›", en:"Cold", jp:"å†·ãŸã„äºº", kr:"ì°¨ê°€ìš´ ì‚¬ëŒ"},
                flirt: {zh:"å™“å¯’å•æš–", en:"Caring", jp:"ä¸–è©±ç„¼ã", kr:"ì±™ê²¨ì£¼ê¸°"},
                role: {zh:"åº·æ¨‚è‚¡é•·", en:"Mood Maker", jp:"ç››ã‚Šä¸Šã’å½¹", kr:"ë¶„ìœ„ê¸° ë©”ì´ì»¤"},
                trap: {zh:"è«‹å®¢", en:"Treating", jp:"å¥¢ã‚Š", kr:"í•œí„±ì˜ê¸°"},
                power: {zh:"æ„ŸæŸ“åŠ›", en:"Charisma", jp:"æ±‚å¿ƒåŠ›", kr:"ì¹´ë¦¬ìŠ¤ë§ˆ"},
                rpg: {zh:"å…‰ä¹‹æˆ°å£«", en:"Warrior", jp:"æˆ¦å£«", kr:"ì „ì‚¬"},
                surv: "60%",
                pet: {zh:"æ‹‰å¸ƒæ‹‰å¤š", en:"Labrador", jp:"ãƒ©ãƒ–ãƒ©ãƒ‰ãƒ¼ãƒ«", kr:"ë˜ë¸Œë¼ë„"},
                
                friendTips: {zh:["ä¿ç•™ä¸€é»éš±ç§", "ä¸è¦å¤ªé›å©†", "ä¸è¦è¢«ç•¶ææ¬¾æ©Ÿ", "å¶çˆ¾å±•ç¾è»Ÿå¼±", "èšæœƒæ™‚ç…§é¡§é‚Šç·£äºº"], 
                           en:["Secrets", "No meddling", "Don't be used", "Be weak too", "Include all"]},
                familyTips: {zh:["ä¸è¦çµ¦è‡ªå·±å¤ªå¤§å£“åŠ›", "å°çˆ¶æ¯è¦æœ‰è€å¿ƒ", "å¤šå¸¶å®¶äººå‡ºé–€", "èª¿è§£å®¶åº­çˆ­åŸ·", "è¨˜å¾—å›å®¶åƒé£¯"], 
                           en:["Manage pressure", "Patience", "Outings", "Mediate", "Dinner home"]},
                crushTips: {zh:["ä¸è¦å¤ªç†±æƒ…", "çµ¦å°æ–¹è¡¨ç¾æ©Ÿæœƒ", "æº«æŸ”ä¸€é»", "è¨˜å¾—å°æ–¹å–œå¥½", "ä¸è¦è·Ÿç•°æ€§å¤ªå¥½"], 
                          en:["Cool down", "Let them shine", "Be gentle", "Details", "Jealousy"]},
                petTips: {zh:["é©åˆé¤Šå¤§å‹çŠ¬", "éœ€è¦æˆ¶å¤–æ´»å‹•", "æ³¨æ„å¿ƒè‡Ÿçœ¼ç›", "ä¸è¦å†·è½ç‰ ", "å¤šå¸¶å¯µç‰©ç¤¾äº¤"], 
                         en:["Big dogs", "Outdoors", "Heart/Eyes", "Attention", "Socialize"]},
                
                fourhua: {zh:"åŒ–ç¥¿", en:"Wealth", jp:"åŒ–ç¦„", kr:"í™”ë¡"},
                marriage: {zh:"å¤©åŒ", en:"Harmony", jp:"å¤©åŒ", kr:"ì²œë™"},
                money: {zh:"æ­¦æ›²", en:"General", jp:"æ­¦æ›²", kr:"ë¬´ê³¡"},
                luck2026: {zh:"è²´äººç›¸åŠ©å¹´", en:"Noble help year", jp:"è²´äººå‡ºç¾ã®å¹´", kr:"ê·€ì¸ ë„ì›€ë…„"}
            },
            {
                id: 4,
                name: {zh:"æ­¦æ›²æ˜Ÿ", en:"General Star", jp:"æ­¦æ›²æ˜Ÿ", kr:"ë¬´ê³¡ì„±"},
                tag: {zh:"é‹¼éµåŸ·è¡Œå®˜", en:"Iron Executor", jp:"é‰„ã®å®Ÿè¡Œè€…", kr:"ì² ì˜ ì§‘í–‰ê´€"},
                desc: {zh:"è¡Œå‹•æ´¾ï¼Œè¬›è©±ç›´æ¥ï¼ŒåŸ·è¡ŒåŠ›å¼·", en:"Action-oriented, direct, strong execution", jp:"è¡Œå‹•æ´¾", kr:"í–‰ë™íŒŒ"},
                mbti: "ESTJ",
                mbtiDesc: {zh:"ç¸½ç¶“ç† (èåŒ–ä½ çš„å†·é…·)", en:"Executive (Melts your coldness)", jp:"å¹¹éƒ¨", kr:"ê²½ì˜ì"},
                
                loveStyle: {zh:"ç›´çƒå°æ±º", en:"Direct Confrontation", jp:"ç›´çƒ", kr:"ì§ì§„"},
                toxicEx: {zh:"å„ªæŸ”å¯¡æ–·", en:"Indecisive", jp:"å„ªæŸ”ä¸æ–­", kr:"ìš°ìœ ë¶€ë‹¨"},
                flirt: {zh:"å¹«ä½ è§£æ±ºå•é¡Œ", en:"Solve Problems", jp:"å•é¡Œè§£æ±º", kr:"ë¬¸ì œ í•´ê²°"},
                role: {zh:"ç¸¾æ•ˆç‹", en:"Performance King", jp:"ã‚¨ãƒ¼ã‚¹", kr:"ì—ì´ìŠ¤"},
                trap: {zh:"æŠ•è³‡/å™¨æ", en:"Investment/Equipment", jp:"æŠ•è³‡", kr:"íˆ¬ì"},
                power: {zh:"åŸ·è¡ŒåŠ›", en:"Execution Power", jp:"å®Ÿè¡ŒåŠ›", kr:"ì‹¤í–‰ë ¥"},
                rpg: {zh:"ç‹‚æˆ°å£«", en:"Berserker", jp:"ãƒãƒ¼ã‚µãƒ¼ã‚«ãƒ¼", kr:"ë²„ì„œì»¤"},
                surv: "85%",
                pet: {zh:"æœè³“çŠ¬", en:"Doberman", jp:"ãƒ‰ãƒ¼ãƒ™ãƒ«ãƒãƒ³", kr:"ë„ë² ë¥´ë§Œ"},
                
                friendTips: {zh:["èªªè©±å§”å©‰ä¸€é»", "åˆ¥åªè«‡å·¥ä½œ", "æ¥å—æœ‹å‹çš„é²åˆ°", "å¤šåƒåŠ èšæœƒ", "åˆ¥å¤ªåš´è‚…"], 
                           en:["Soften words", "Not just work", "Tolerate lateness", "Attend parties", "Don't be too serious"]},
                familyTips: {zh:["çµ¦å®¶ç”¨å¤§æ–¹é»", "åˆ¥æŠŠå·¥ä½œæƒ…ç·’å¸¶å›å®¶", "é™ªå®¶äººé‹å‹•", "å¹«å¿™ç†è²¡", "è½å®¶äººæŠŠè©±èªªå®Œ"], 
                           en:["Be generous with allowance", "Don't bring work home", "Exercise with family", "Help with finances", "Listen to family"]},
                crushTips: {zh:["åˆ¥æ€¥è‘—ç¢ºèªé—œä¿‚", "é€å¯¦ç”¨çš„ç¦®ç‰©", "å¤šè®šç¾å°æ–¹å¤–è¡¨", "å±•ç¾å¯é ä¸€é¢", "å°‘æ‰¹è©•å¤šé¼“å‹µ"], 
                          en:["Don't rush relationship", "Give practical gifts", "Compliment appearance", "Show reliability", "Criticize less, encourage more"]},
                petTips: {zh:["è¨“ç·´è¦æœ‰è€å¿ƒ", "é©åˆçŸ­æ¯›å¥½æ•´ç†", "å›ºå®šé¤µé£Ÿæ™‚é–“", "æ³¨æ„éª¨éª¼å¥åº·", "åˆ¥å°å¯µç‰©å¤ªå…‡"], 
                         en:["Be patient in training", "Suitable for short-haired pets", "Fixed feeding time", "Pay attention to bone health", "Don't be too harsh"]},
                
                fourhua: {zh:"åŒ–æ¬Š", en:"Power", jp:"åŒ–æ¨©", kr:"í™”ê¶Œ"},
                marriage: {zh:"ä¸ƒæ®º", en:"Killer", jp:"ä¸ƒæ®º", kr:"ì¹ ì‚´"},
                money: {zh:"å¤©åºœ", en:"Minister", jp:"å¤©åºœ", kr:"ì²œë¶€"},
                luck2026: {zh:"è²¡é‹çˆ†ç™¼å¹´", en:"Wealth explosion year", jp:"è²¡é‹çˆ†ç™ºã®å¹´", kr:"ì¬ë¬¼ìš´ í­ë°œë…„"}
            }
        ];

        // ==================== 3. åå¤§å»ºè­°è³‡æ–™åº« ====================
        const adviceDB = {
            zh: [
                {
                    id: 1,
                    icon: "ğŸ’°",
                    title: "è²¡é‹æŠ•è³‡æŒ‡å—",
                    desc: "æ ¹æ“šä½ çš„è²¡å¸›å®®ï¼Œä»Šå¹´é©åˆæŠ•è³‡æˆ¿åœ°ç”¢ã€‚è²¡åº«åœ¨è¥¿åŒ—æ–¹ï¼Œè¾²æ›†ä¸‰æœˆã€ä¹æœˆéœ€æ³¨æ„ç ´è²¡ã€‚",
                    tag: "è²¡å¯Œé‹å‹¢"
                },
                {
                    id: 2,
                    icon: "â¤ï¸",
                    title: "æ­£ç·£æ¡ƒèŠ±æ™‚æ©Ÿ",
                    desc: "çœŸå‘½å¤©å­å°‡åœ¨2026å¹´å¤å­£å‡ºç¾ã€‚å°æ–¹å¯èƒ½æ˜¯æ•™è‚²æˆ–ç§‘æŠ€æ¥­ï¼Œæ€§æ ¼ç©©é‡é«”è²¼ã€‚é¿é–‹è¾²æ›†ä¸ƒæœˆæ¡ƒèŠ±åŠ«ã€‚",
                    tag: "æ„Ÿæƒ…å©šå§»"
                },
                {
                    id: 3,
                    icon: "ğŸ“ˆ",
                    title: "äº‹æ¥­çªç ´é—œéµ",
                    desc: "ä»Šå¹´äº‹æ¥­æœ€ä½³æ–¹å‘æ˜¯å—æ–¹ã€‚è²´äººåœ¨æ±æ–¹ï¼Œè¾²æ›†å…«æœˆæœ‰è½‰è·æ©Ÿæœƒã€‚æ³¨æ„èº«é‚Šå±¬é¼ çš„å°äººã€‚",
                    tag: "è·å ´ç™¼å±•"
                },
                {
                    id: 4,
                    icon: "ğŸ ",
                    title: "æˆ¿ç”¢ç½®ç”¢å»ºè­°",
                    desc: "è²·æˆ¿æœ€ä½³æ™‚æ©Ÿæ˜¯2026å¹´ä¸‹åŠå¹´ã€‚é©åˆååŒ—æœå—çš„æˆ¿å±‹ï¼Œé¿é–‹è·¯æ²–æˆ–å°è§’ç…çš„æ ¼å±€ã€‚",
                    tag: "å±…ä½é‹å‹¢"
                },
                {
                    id: 5,
                    icon: "ğŸ“",
                    title: "å­¸æ¥­è€ƒè©¦é‹å‹¢",
                    desc: "è€ƒé‹æœ€ä½³åœ¨è¾²æ›†äº”æœˆã€‚é©åˆæ·±é€ ç®¡ç†æˆ–æŠ€è¡“é ˜åŸŸã€‚è®€æ›¸æ–¹ä½åœ¨æ›¸æˆ¿æ±å—æ–¹ï¼Œå¯æ“ºæ”¾ç¶ è‰²æ¤ç‰©é–‹é‹ã€‚",
                    tag: "å­¸æ¥­ç™¼å±•"
                },
                {
                    id: 6,
                    icon: "ğŸš—",
                    title: "å‡ºè¡Œæ—…éŠå‰å‡¶",
                    desc: "ä»Šå¹´é©åˆé•·é€”æ—…è¡Œï¼Œæ±æ–¹æ–¹ä½æ˜“é‡è²´äººã€‚é¿é–‹è¾²æ›†ä¸ƒæœˆå¤–å‡ºï¼Œæ³¨æ„äº¤é€šå®‰å…¨ã€‚",
                    tag: "æ—…è¡Œé‹å‹¢"
                },
                {
                    id: 7,
                    icon: "ğŸ¤°",
                    title: "å­å¥³ç·£ä»½æ™‚æ©Ÿ",
                    desc: "æ‡·å­•æ©Ÿç‡æœ€é«˜åœ¨2026å¹´ç§‹å­£ã€‚å­å¥³ç·£ä»½æ·±åšï¼Œæœªä¾†å¯èƒ½å¾äº‹å‰µæ„æˆ–é†«ç™‚è¡Œæ¥­ã€‚",
                    tag: "å®¶åº­é‹å‹¢"
                },
                {
                    id: 8,
                    icon: "âš–ï¸",
                    title: "å®˜éè¨´è¨Ÿé¿éšª",
                    desc: "ä»Šå¹´éœ€æ³¨æ„åˆç´„ç³¾ç´›ã€‚ç°½ç´„å‰ä»”ç´°å¯©é–±æ¢æ¬¾ï¼Œè¾²æ›†åæœˆæ˜“æœ‰å£èˆŒæ˜¯éï¼Œè¬¹è¨€æ…è¡Œã€‚",
                    tag: "äººéš›é—œä¿‚"
                },
                {
                    id: 9,
                    icon: "ğŸŒ¿",
                    title: "å¥åº·é¤Šç”Ÿé‡é»",
                    desc: "éœ€æ³¨æ„è…¸èƒƒæ¶ˆåŒ–ç³»çµ±ã€‚é©åˆæº«å’Œé‹å‹•å¦‚ç‘œä¼½ï¼Œé£²é£Ÿå®œæ¸…æ·¡ï¼Œè¾²æ›†å…­æœˆéœ€é é˜²æ„Ÿå†’ã€‚",
                    tag: "å¥åº·é‹å‹¢"
                },
                {
                    id: 10,
                    icon: "ğŸŒŸ",
                    title: "è²´äººå°äººè¾¨è­˜",
                    desc: "è²´äººæ˜¯å¹´é•·å¥³æ€§æˆ–å±¬ç‰›ä¹‹äººã€‚å°äººç‰¹å¾µæ˜¯æ„›æŒ‘æ’¥é›¢é–“ã€‚æå‡è²´äººé‹å¯ä½©æˆ´é»ƒè‰²é£¾å“ã€‚",
                    tag: "äººéš›é—œä¿‚"
                }
            ],
            en: [
                {
                    id: 1,
                    icon: "ğŸ’°",
                    title: "Wealth & Investment Guide",
                    desc: "Based on your Wealth Palace, real estate is suitable this year. Wealth direction is NW. Be careful in March and September.",
                    tag: "Fortune"
                },
                {
                    id: 2,
                    icon: "â¤ï¸",
                    title: "True Love Timing",
                    desc: "Soulmate will appear in Summer 2026. May be in education or tech industry. Avoid July peach blossomåŠ«.",
                    tag: "Relationship"
                },
                {
                    id: 3,
                    icon: "ğŸ“ˆ",
                    title: "Career Breakthrough Key",
                    desc: "Best direction is South. Noble people in East. Job change opportunity in August. Beware of Rat sign people.",
                    tag: "Career"
                },
                {
                    id: 4,
                    icon: "ğŸ ",
                    title: "Property Purchase Advice",
                    desc: "Best time is second half of 2026. Suitable North-facing house. Avoid roadå†² or cornerç….",
                    tag: "Property"
                },
                {
                    id: 5,
                    icon: "ğŸ“",
                    title: "Academic & Exam Fortune",
                    desc: "Best exam luck in May. Suitable for management or tech fields. Study in SE direction with green plants.",
                    tag: "Education"
                },
                {
                    id: 6,
                    icon: "ğŸš—",
                    title: "Travel Fortune",
                    desc: "Suitable for long trips this year. East direction is lucky. Avoid travel in July.æ³¨æ„äº¤é€šå®‰å…¨.",
                    tag: "Travel"
                },
                {
                    id: 7,
                    icon: "ğŸ¤°",
                    title: "Children Fortune Timing",
                    desc: "Highest pregnancy chance in Autumn 2026. Deep childrenç¼˜åˆ†. Future may be in creative or medical field.",
                    tag: "Family"
                },
                {
                    id: 8,
                    icon: "âš–ï¸",
                    title: "Legal Risk Avoidance",
                    desc: "Watch for contract disputes. Review terms carefully. Octoberæ˜“æœ‰å£èˆŒæ˜¯é. Be careful with words.",
                    tag: "Legal"
                },
                {
                    id: 9,
                    icon: "ğŸŒ¿",
                    title: "Health & Wellness Focus",
                    desc: "æ³¨æ„ digestive system. Suitable gentle exercise like yoga. Light diet. Prevent cold in June.",
                    tag: "Health"
                },
                {
                    id: 10,
                    icon: "ğŸŒŸ",
                    title: "Noble People & Enemies",
                    desc: "Noble is older female or Ox sign. Enemy loves to sow discord. Wear yellow accessories for luck.",
                    tag: "Relationships"
                }
            ]
        };

        // ==================== 4. å…¨å±€è®Šæ•¸ ====================
        let curLang = 'zh';
        let currentStarData = null;

        // ==================== 5. MBTIæŒ‰éˆ•ç«‹å³é–‹å•ŸåŠŸèƒ½ ====================
        function openMBTI() {
            console.log("MBTIæŒ‰éˆ•é»æ“Šï¼Œç«‹å³é–‹å•Ÿç¶²é : https://mbti-9lg4.onrender.com");
            
            // æ–¹æ³•1: ç›´æ¥é–‹å•Ÿæ–°è¦–çª—
            window.open('https://mbti-9lg4.onrender.com', '_blank');
            
            // æ–¹æ³•2: å¦‚æœè¢«ç€è¦½å™¨é˜»æ“‹ï¼Œä½¿ç”¨é€£çµ
            // window.location.href = 'https://mbti-9lg4.onrender.com';
            
            // å¯ä»¥åœ¨é€™è£¡æ·»åŠ è¿½è¹¤ä»£ç¢¼
            // gtag('event', 'click', {'event_category': 'MBTI', 'event_label': 'mbti_button_click'});
            
            return false;
        }

        // ==================== 6. æ ¸å¿ƒå‡½æ•¸ ====================

        // è¨­å®šèªè¨€
        function setLang(l) {
            curLang = l;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            
            const t = ui[l] || ui['zh'];
            
            // æ›´æ–°é¦–é æ–‡å­—
            document.getElementById('txt-hero').innerHTML = t.hero;
            document.getElementById('txt-sub').innerText = t.sub;
            
            // æ›´æ–°ä¾¿ç•¶å¡ç‰‡
            document.getElementById('c1t').innerText = t.c1t;
            document.getElementById('c1d').innerText = t.c1d;
            document.getElementById('c2t').innerText = t.c2t;
            document.getElementById('c2d').innerText = t.c2d;
            document.getElementById('c3t').innerText = t.c3t;
            document.getElementById('c3d').innerText = t.c3d;
            document.getElementById('c4t').innerText = t.c4t;
            document.getElementById('c4d').innerText = t.c4d;
            document.getElementById('c5t').innerText = t.c5t;
            document.getElementById('c5d').innerText = t.c5d;
            
            // æ›´æ–°æŒ‰éˆ•
            document.getElementById('btn-start').innerText = t.btn;
            document.getElementById('m-title').innerText = t.mTitle;
            document.getElementById('m-btn').innerText = t.mBtn;
            document.getElementById('m-close').innerText = t.mClose;
            
            // æ›´æ–°æ¨™ç±¤
            document.getElementById('l-love').innerText = t.lLove;
            document.getElementById('l-toxic').innerText = t.lToxic;
            document.getElementById('l-flirt').innerText = t.lFlirt;
            document.getElementById('l-role').innerText = t.lRole;
            document.getElementById('l-trap').innerText = t.lTrap;
            document.getElementById('l-power').innerText = t.lPower;
            document.getElementById('l-rpg').innerText = t.lRpg;
            document.getElementById('l-surv').innerText = t.lSurv;
            document.getElementById('l-pet').innerText = t.lPet;
            document.getElementById('l-minggong').innerText = t.lMinggong;
            document.getElementById('l-shengong').innerText = t.lShengong;
            document.getElementById('l-wuxing').innerText = t.lWuxing;
            
            // æ›´æ–°è§£é–å€åŸŸ
            document.getElementById('t-unlock').innerText = t.tUnlock;
            document.getElementById('d-unlock').innerText = t.dUnlock;
            document.getElementById('btn-unlock').innerText = t.uBtn;
            
            // æ›´æ–°åˆ†äº«æŒ‰éˆ•
            document.getElementById('b-share').innerText = t.bShare;
            document.getElementById('txt-promo').innerText = t.txtPromo;
            document.getElementById('l-comp-mbti').innerText = t.lCompMbti;
            document.getElementById('l-match-desc').innerText = t.lMatchDesc;
            
            // å¦‚æœå·²æœ‰çµæœï¼Œé‡æ–°é¡¯ç¤º
            if (currentStarData) {
                displayResults(currentStarData);
            }
        }

        // è¨ˆç®—ç´«å¾®æ–—æ•¸
        function calculatePurpleStar() {
            const dateStr = document.getElementById('inp-date').value;
            const hour = parseInt(document.getElementById('inp-hour').value);
            const name = document.getElementById('inp-name').value || "ç¥ç§˜äºº";
            const gender = document.getElementById('inp-gender').value;
            
            if (!dateStr) {
                alert(curLang === 'zh' ? "è«‹è¼¸å…¥å‡ºç”Ÿæ—¥æœŸ" :
                      curLang === 'en' ? "Please enter birth date" :
                      curLang === 'jp' ? "ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" :
                      "ìƒë…„ì›”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”");
                return;
            }
            
            // è§£ææ—¥æœŸ
            const d = new Date(dateStr);
            const year = d.getFullYear();
            const month = d.getMonth() + 1;
            const day = d.getDate();
            
            // è¨ˆç®—ä¸»æ˜Ÿç´¢å¼• (ç°¡å–®æ¼”ç®—æ³•)
            const starIndex = (year + month + day + hour) % purpleStarDB.length;
            const starData = purpleStarDB[starIndex];
            
            // è¨ˆç®—å‘½å®®èº«å®®
            const mingGongIndex = (month + hour) % 12;
            const shenGongIndex = (mingGongIndex + 6) % 12;
            
            const palaceNames = [
                {zh:"å­å®®", en:"Rat Palace", jp:"å­å®®", kr:"ìê¶"},
                {zh:"ä¸‘å®®", en:"Ox Palace", jp:"ä¸‘å®®", kr:"ì¶•ê¶"},
                {zh:"å¯…å®®", en:"Tiger Palace", jp:"å¯…å®®", kr:"ì¸ê¶"},
                {zh:"å¯å®®", en:"Rabbit Palace", jp:"å¯å®®", kr:"ë¬˜ê¶"},
                {zh:"è¾°å®®", en:"Dragon Palace", jp:"è¾°å®®", kr:"ì§„ê¶"},
                {zh:"å·³å®®", en:"Snake Palace", jp:"å·³å®®", kr:"ì‚¬ê¶"},
                {zh:"åˆå®®", en:"Horse Palace", jp:"åˆå®®", kr:"ì˜¤ê¶"},
                {zh:"æœªå®®", en:"Goat Palace", jp:"æœªå®®", kr:"ë¯¸ê¶"},
                {zh:"ç”³å®®", en:"Monkey Palace", jp:"ç”³å®®", kr:"ì‹ ê¶"},
                {zh:"é…‰å®®", en:"Rooster Palace", jp:"é…‰å®®", kr:"ìœ ê¶"},
                {zh:"æˆŒå®®", en:"Dog Palace", jp:"æˆŒå®®", kr:"ìˆ ê¶"},
                {zh:"äº¥å®®", en:"Pig Palace", jp:"äº¥å®®", kr:"í•´ê¶"}
            ];
            
            // è¨ˆç®—äº”è¡Œå±€
            const wuxingIndex = (year + month + day) % 5;
            const wuxingOptions = [
                {value:"æ°´äºŒå±€", desc:{zh:"æ™ºè¬€æ·±é ï¼Œé©æ‡‰åŠ›å¼·", en:"Deep wisdom, strong adaptability", jp:"çŸ¥è¬€æ·±é ", kr:"ì§€ëª¨ê°€ ê¹Šê³  ì ì‘ë ¥ ê°•í•¨"}},
                {value:"æœ¨ä¸‰å±€", desc:{zh:"ä»æ…ˆå¯¬åšï¼Œæˆé•·åŠ›å¼·", en:"Kind and generous, strong growth", jp:"ä»æ…ˆå¯›åš", kr:"ì¸ìí•˜ê³  ì„±ì¥ë ¥ ê°•í•¨"}},
                {value:"é‡‘å››å±€", desc:{zh:"å‰›æ¯…æœæ±ºï¼Œç¾©ç†åˆ†æ˜", en:"Resolute and decisive, righteous", jp:"å‰›æ¯…æœæ–­", kr:"ê°•ì˜í•˜ê³  ì˜ë¦¬ ë¶„ëª…"}},
                {value:"åœŸäº”å±€", desc:{zh:"ç©©é‡è¸å¯¦ï¼Œä¿¡è­½è‰¯å¥½", en:"Steady and reliable, good reputation", jp:"ç©é‡ç€å®Ÿ", kr:"ì•ˆì •ì ì´ê³  ì‹ ìš© ì¢‹ìŒ"}},
                {value:"ç«å…­å±€", desc:{zh:"ç†±æƒ…ç©æ¥µï¼Œè¡Œå‹•åŠ›å¼·", en:"Passionate and active, strong execution", jp:"ç†±æƒ…ç©æ¥µ", kr:"ì—´ì •ì ì´ê³  í–‰ë™ë ¥ ê°•í•¨"}}
            ];
            
            // å„²å­˜ç•¶å‰è³‡æ–™
            currentStarData = {
                star: starData,
                mingGong: palaceNames[mingGongIndex][curLang] || palaceNames[mingGongIndex]['zh'],
                shenGong: palaceNames[shenGongIndex][curLang] || palaceNames[shenGongIndex]['zh'],
                wuxing: wuxingOptions[wuxingIndex].value,
                wuxingDesc: wuxingOptions[wuxingIndex].desc[curLang] || wuxingOptions[wuxingIndex].desc['zh'],
                userName: name,
                gender: gender
            };
            
            // é¡¯ç¤ºçµæœ
            displayResults(currentStarData);
            
            // é—œé–‰å½ˆçª—
            closeInput();
        }

        // é¡¯ç¤ºçµæœ
        function displayResults(data) {
            const star = data.star;
            
            // ä¸»æ˜Ÿè³‡è¨Š
            document.getElementById('res-star').innerText = star.name[curLang] || star.name['zh'];
            document.getElementById('res-tag').innerText = star.tag[curLang] || star.tag['zh'];
            document.getElementById('res-desc').innerText = star.desc[curLang] || star.desc['zh'];
            
            // å‘½å®®èº«å®®
            document.getElementById('res-minggong').innerText = data.mingGong;
            document.getElementById('res-shengong').innerText = data.shenGong;
            
            // äº”è¡Œå±€
            document.getElementById('res-wuxing').innerText = data.wuxing;
            document.getElementById('res-wuxing-desc').innerText = data.wuxingDesc;
            
            // MBTI
            document.getElementById('res-mbti').innerText = star.mbti;
            document.getElementById('res-mbti-desc').innerText = star.mbtiDesc[curLang] || star.mbtiDesc['zh'];
            
            // å„€è¡¨æ¿
            document.getElementById('res-love').innerText = star.loveStyle[curLang] || star.loveStyle['zh'];
            document.getElementById('res-toxic').innerText = star.toxicEx[curLang] || star.toxicEx['zh'];
            document.getElementById('res-flirt').innerText = star.flirt[curLang] || star.flirt['zh'];
            document.getElementById('res-role').innerText = star.role[curLang] || star.role['zh'];
            document.getElementById('res-trap').innerText = star.trap[curLang] || star.trap['zh'];
            document.getElementById('res-power').innerText = star.power[curLang] || star.power['zh'];
            document.getElementById('res-rpg').innerText = star.rpg[curLang] || star.rpg['zh'];
            document.getElementById('res-surv').innerText = star.surv;
            document.getElementById('res-pet').innerText = star.pet[curLang] || star.pet['zh'];
            
            // ç”ŸæˆåŸºæœ¬å»ºè­°
            generateBasicAdvice(star);
            
            // åˆ‡æ›è¦–åœ–
            document.getElementById('home-view').style.display = 'none';
            document.getElementById('result-view').style.display = 'block';
            
            // æ»¾å‹•åˆ°é ‚éƒ¨
            window.scrollTo(0, 0);
        }

        // ç”ŸæˆåŸºæœ¬å»ºè­°
        function generateBasicAdvice(star) {
            const container = document.getElementById('basic-advice');
            container.innerHTML = '';
            
            const basicAdvices = [
                {
                    icon: "ğŸ¤",
                    title: curLang === 'zh' ? "äº¤å‹å»ºè­°" : 
                          curLang === 'en' ? "Friend Tips" :
                          curLang === 'jp' ? "å‹äººé–¢ä¿‚" : "ì¹œêµ¬ ì¡°ì–¸",
                    tips: star.friendTips[curLang] || star.friendTips['zh']
                },
                {
                    icon: "ğŸ ",
                    title: curLang === 'zh' ? "å®¶åº­å»ºè­°" : 
                          curLang === 'en' ? "Family Tips" :
                          curLang === 'jp' ? "å®¶æ—é–¢ä¿‚" : "ê°€ì¡± ì¡°ì–¸",
                    tips: star.familyTips[curLang] || star.familyTips['zh']
                },
                {
                    icon: "ğŸ’˜",
                    title: curLang === 'zh' ? "æ›–æ˜§æ”»ç•¥" : 
                          curLang === 'en' ? "Crush Tips" :
                          curLang === 'jp' ? "æ‹æ„›æ”»ç•¥" : "ì—°ì•  ê³µëµ",
                    tips: star.crushTips[curLang] || star.crushTips['zh']
                },
                {
                    icon: "ğŸ¶",
                    title: curLang === 'zh' ? "å¯µç‰©å»ºè­°" : 
                          curLang === 'en' ? "Pet Tips" :
                          curLang === 'jp' ? "ãƒšãƒƒãƒˆé£¼è‚²" : "í« ì¡°ì–¸",
                    tips: star.petTips[curLang] || star.petTips['zh']
                }
            ];
            
            basicAdvices.forEach(advice => {
                const card = document.createElement('div');
                card.className = 'basic-advice-card';
                
                let tipsHTML = '';
                const tips = advice.tips || [];
                tips.forEach(tip => {
                    tipsHTML += `<li>${tip}</li>`;
                });
                
                card.innerHTML = `
                    <div class="basic-advice-title">
                        <span>${advice.icon}</span>
                        <span>${advice.title}</span>
                    </div>
                    <ul class="basic-advice-list">
                        ${tipsHTML}
                    </ul>
                `;
                
                container.appendChild(card);
            });
        }

        // åŠ è¼‰å®Œæ•´å ±å‘Š
        function loadFullReport() {
            const btn = document.getElementById('btn-unlock');
            
            // é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
            const loadingText = curLang === 'zh' ? 'è¼‰å…¥ä¸­...' :
                              curLang === 'en' ? 'Loading...' :
                              curLang === 'jp' ? 'ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­...' : 'ë¡œë”©ì¤‘...';
            
            btn.style.opacity = '0.5';
            btn.innerText = loadingText;
            
            // æ¨¡æ“¬è¼‰å…¥å»¶é²
            setTimeout(() => {
                // ç”Ÿæˆåå¤§å»ºè­°
                generateTop10Advice();
                
                // é¡¯ç¤ºéš±è—å…§å®¹
                document.getElementById('lock-area').style.display = 'none';
                document.getElementById('hidden-content').style.display = 'block';
                
                // æ¢å¾©æŒ‰éˆ•ç‹€æ…‹
                btn.innerText = ui[curLang].uBtn;
                btn.style.opacity = '1';
                
                // æ»¾å‹•åˆ°å»ºè­°å€åŸŸ
                document.getElementById('hidden-content').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }, 800);
        }

        // ç”Ÿæˆåå¤§å»ºè­°
        function generateTop10Advice() {
            const container = document.getElementById('advice-grid');
            container.innerHTML = '';
            
            // æ ¹æ“šç•¶å‰èªè¨€ç²å–å»ºè­°
            const advices = adviceDB[curLang] || adviceDB['zh'];
            
            // é¡è‰²é™£åˆ—
            const colors = ['#8b5cf6', '#06b6d4', '#10b981', '#f43f5e', '#fbbf24'];
            
            advices.forEach((advice, index) => {
                const card = document.createElement('div');
                card.className = 'advice-card';
                
                const color = colors[index % colors.length];
                
                card.innerHTML = `
                    <div class="advice-icon" style="color: ${color}; border: 2px solid ${color}20;">
                        ${advice.icon}
                    </div>
                    <div class="advice-title">${advice.title}</div>
                    <div class="advice-desc">${advice.desc}</div>
                    <div class="advice-tag">${advice.tag}</div>
                `;
                
                container.appendChild(card);
            });
        }

        // åˆ†äº«çµæœ
        function shareResult() {
            if (!currentStarData) return;
            
            const star = currentStarData.star.name[curLang] || currentStarData.star.name['zh'];
            const mbti = currentStarData.star.mbti;
            const userName = currentStarData.userName;
            
            let shareText = '';
            if (curLang === 'zh') {
                shareText = `${userName}çš„2026ç´«å¾®æ–—æ•¸å‘½ç›¤ï¼š
ğŸŒŸ ä¸»æ˜Ÿï¼š${star}
ğŸ’ æœ€ä½³ä¼´ä¾¶ï¼š${mbti}
ğŸ”® æŸ¥çœ‹å®Œæ•´å‘½ç›¤åˆ†æï¼š`;
            } else if (curLang === 'en') {
                shareText = `${userName}'s 2026 Purple Star Destiny:
ğŸŒŸ Star: ${star}
ğŸ’ Best Match: ${mbti}
ğŸ”® Check full analysis:`;
            } else if (curLang === 'jp') {
                shareText = `${userName}ã®2026ç´«å¾®æ–—æ•°ï¼š
ğŸŒŸ ä¸»æ˜Ÿï¼š${star}
ğŸ’ ç›¸æ€§ï¼š${mbti}
ğŸ”® å®Œå…¨åˆ†æã‚’è¦‹ã‚‹ï¼š`;
            } else {
                shareText = `${userName}ì˜ 2026 ìë¯¸ë‘ìˆ˜ï¼š
ğŸŒŸ ì£¼ì„±ï¼š${star}
ğŸ’ ìµœê³ ì˜ íŒŒíŠ¸ë„ˆï¼š${mbti}
ğŸ”® ì™„ì „ ë¶„ì„ ë³´ê¸°ï¼š`;
            }
            
            const shareUrl = window.location.href;
            
            // ä½¿ç”¨Web Share APIæˆ–è¤‡è£½åˆ°å‰ªè²¼ç°¿
            if (navigator.share) {
                navigator.share({
                    title: curLang === 'zh' ? 'ç´«å¾®æ–—æ•¸å‘½ç›¤' : 
                           curLang === 'en' ? 'Purple Star Destiny' :
                           curLang === 'jp' ? 'ç´«å¾®æ–—æ•°' : 'ìë¯¸ë‘ìˆ˜',
                    text: shareText,
                    url: shareUrl
                }).catch(err => {
                    console.log('åˆ†äº«å–æ¶ˆ:', err);
                    copyToClipboard(shareText + ' ' + shareUrl);
                });
            } else {
                copyToClipboard(shareText + ' ' + shareUrl);
            }
        }

        // è¤‡è£½åˆ°å‰ªè²¼ç°¿
        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            
            // é¡¯ç¤ºæç¤º
            const toast = document.getElementById('toast');
            toast.textContent = curLang === 'zh' ? 'ğŸ“‹ å·²è¤‡è£½å‘½ç›¤é€£çµï¼' :
                               curLang === 'en' ? 'ğŸ“‹ Link copied!' :
                               curLang === 'jp' ? 'ğŸ“‹ ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼' : 'ğŸ“‹ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤ï¼';
            toast.className = "show";
            
            setTimeout(() => {
                toast.className = toast.className.replace("show", "");
            }, 3000);
        }

        // æ‰“é–‹è¼¸å…¥å½ˆçª—
        function openInput() {
            // è¨­å®šä»Šå¤©ç‚ºé è¨­æ—¥æœŸ
            const today = new Date();
            const formattedDate = today.toISOString().split('T')[0];
            document.getElementById('inp-date').value = formattedDate;
            
            // é¡¯ç¤ºå½ˆçª—
            document.getElementById('input-modal').style.display = 'flex';
        }

        // é—œé–‰è¼¸å…¥å½ˆçª—
        function closeInput() {
            document.getElementById('input-modal').style.display = 'none';
        }

        // ==================== 7. åˆå§‹åŒ– ====================
        window.onload = function() {
            // è¨­å®šé è¨­èªè¨€
            setLang('zh');
            
            // åˆå§‹åŒ–å»£å‘Š
            (adsbygoogle = window.adsbygoogle || []).push({});
            
            // è¨­å®šä»Šå¤©ç‚ºé è¨­æ—¥æœŸ
            const today = new Date();
            const formattedDate = today.toISOString().split('T')[0];
            document.getElementById('inp-date').value = formattedDate;
            
            // è¨­å®šå§“åé è¨­å€¼
            document.getElementById('inp-name').value = '';
            
            // åˆå§‹åŒ–MBTIæŒ‰éˆ•é»æ“Šäº‹ä»¶ - ä½¿ç”¨ç›´æ¥çš„äº‹ä»¶ç›£è½å™¨
            const mbtiButton = document.getElementById('mbti-button');
            if (mbtiButton) {
                // ç§»é™¤èˆŠçš„äº‹ä»¶ç›£è½å™¨ï¼ˆå¦‚æœæœ‰çš„è©±ï¼‰
                mbtiButton.removeEventListener('click', openMBTI);
                // æ·»åŠ æ–°çš„äº‹ä»¶ç›£è½å™¨
                mbtiButton.addEventListener('click', openMBTI);
                
                // åŒæ™‚æ·»åŠ è§¸æ‘¸äº‹ä»¶ä»¥ç¢ºä¿æ‰‹æ©Ÿä¸Šèƒ½éŸ¿æ‡‰
                mbtiButton.addEventListener('touchstart', function(e) {
                    e.preventDefault(); // é˜²æ­¢è§¸æ‘¸äº‹ä»¶çš„é»˜èªè¡Œç‚º
                    openMBTI();
                }, { passive: false });
            }
        };
    </script>
</body>
</html>
